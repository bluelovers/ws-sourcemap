"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
/**
 * @deprecated
 */
const const_1 = require("./const");
var EnumExtractSourceMapType;
(function (EnumExtractSourceMapType) {
    EnumExtractSourceMapType[EnumExtractSourceMapType["JS"] = 1] = "JS";
    EnumExtractSourceMapType[EnumExtractSourceMapType["CSS"] = 2] = "CSS";
})(EnumExtractSourceMapType || (EnumExtractSourceMapType = {}));
function extractSourceMapFromTargetAllCore(value) {
    let lastMatchs = [];
    [
        new RegExp(const_1.RE_SOURCE_MAP_COMMENT_01.source, const_1.RE_SOURCE_MAP_COMMENT_01.flags),
        new RegExp(const_1.RE_SOURCE_MAP_COMMENT_02.source, const_1.RE_SOURCE_MAP_COMMENT_02.flags),
    ].some(re => {
        if (re) {
            let match;
            while (match = re.exec(value)) {
                lastMatchs.push(match);
            }
            return lastMatchs.length;
        }
    });
    return lastMatchs;
}
exports.extractSourceMapFromTargetAllCore = extractSourceMapFromTargetAllCore;
function extractSourceMapFromTargetAll(value) {
    return extractSourceMapFromTargetAllCore(value).map(m => m[1]);
}
exports.extractSourceMapFromTargetAll = extractSourceMapFromTargetAll;
function extractSourceMapFromTarget(value) {
    return extractSourceMapFromTargetAll(value).pop();
}
exports.extractSourceMapFromTarget = extractSourceMapFromTarget;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZXh0cmFjdC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbImV4dHJhY3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQTs7R0FFRztBQUNILG1DQUE2RTtBQUU3RSxJQUFLLHdCQUlKO0FBSkQsV0FBSyx3QkFBd0I7SUFFNUIsbUVBQVcsQ0FBQTtJQUNYLHFFQUFZLENBQUE7QUFDYixDQUFDLEVBSkksd0JBQXdCLEtBQXhCLHdCQUF3QixRQUk1QjtBQUVELFNBQWdCLGlDQUFpQyxDQUFDLEtBQWE7SUFFOUQsSUFBSSxVQUFVLEdBQXNCLEVBQUUsQ0FBQztJQUV2QztRQUNDLElBQUksTUFBTSxDQUFDLGdDQUF3QixDQUFDLE1BQU0sRUFBRSxnQ0FBd0IsQ0FBQyxLQUFLLENBQUM7UUFDM0UsSUFBSSxNQUFNLENBQUMsZ0NBQXdCLENBQUMsTUFBTSxFQUFFLGdDQUF3QixDQUFDLEtBQUssQ0FBQztLQUMzRSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRTtRQUVYLElBQUksRUFBRSxFQUNOO1lBQ0MsSUFBSSxLQUFzQixDQUFDO1lBRTNCLE9BQU8sS0FBSyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsS0FBZSxDQUFDLEVBQ3ZDO2dCQUNDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUE7YUFDdEI7WUFFRCxPQUFPLFVBQVUsQ0FBQyxNQUFNLENBQUE7U0FDeEI7SUFDRixDQUFDLENBQUMsQ0FBQztJQUVILE9BQU8sVUFBVSxDQUFDO0FBQ25CLENBQUM7QUF2QkQsOEVBdUJDO0FBRUQsU0FBZ0IsNkJBQTZCLENBQUMsS0FBYTtJQUUxRCxPQUFPLGlDQUFpQyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQ2hFLENBQUM7QUFIRCxzRUFHQztBQUVELFNBQWdCLDBCQUEwQixDQUFDLEtBQWE7SUFFdkQsT0FBTyw2QkFBNkIsQ0FBQyxLQUFLLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQztBQUNuRCxDQUFDO0FBSEQsZ0VBR0MiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIEBkZXByZWNhdGVkXG4gKi9cbmltcG9ydCB7IFJFX1NPVVJDRV9NQVBfQ09NTUVOVF8wMSwgUkVfU09VUkNFX01BUF9DT01NRU5UXzAyIH0gZnJvbSAnLi9jb25zdCc7XG5cbmVudW0gRW51bUV4dHJhY3RTb3VyY2VNYXBUeXBlXG57XG5cdEpTID0gMHgwMDAxLFxuXHRDU1MgPSAweDAwMDIsXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0U291cmNlTWFwRnJvbVRhcmdldEFsbENvcmUodmFsdWU6IHN0cmluZylcbntcblx0bGV0IGxhc3RNYXRjaHM6IFJlZ0V4cEV4ZWNBcnJheVtdID0gW107XG5cblx0W1xuXHRcdG5ldyBSZWdFeHAoUkVfU09VUkNFX01BUF9DT01NRU5UXzAxLnNvdXJjZSwgUkVfU09VUkNFX01BUF9DT01NRU5UXzAxLmZsYWdzKSxcblx0XHRuZXcgUmVnRXhwKFJFX1NPVVJDRV9NQVBfQ09NTUVOVF8wMi5zb3VyY2UsIFJFX1NPVVJDRV9NQVBfQ09NTUVOVF8wMi5mbGFncyksXG5cdF0uc29tZShyZSA9PlxuXHR7XG5cdFx0aWYgKHJlKVxuXHRcdHtcblx0XHRcdGxldCBtYXRjaDogUmVnRXhwRXhlY0FycmF5O1xuXG5cdFx0XHR3aGlsZSAobWF0Y2ggPSByZS5leGVjKHZhbHVlIGFzIHN0cmluZykpXG5cdFx0XHR7XG5cdFx0XHRcdGxhc3RNYXRjaHMucHVzaChtYXRjaClcblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGxhc3RNYXRjaHMubGVuZ3RoXG5cdFx0fVxuXHR9KTtcblxuXHRyZXR1cm4gbGFzdE1hdGNocztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RTb3VyY2VNYXBGcm9tVGFyZ2V0QWxsKHZhbHVlOiBzdHJpbmcpXG57XG5cdHJldHVybiBleHRyYWN0U291cmNlTWFwRnJvbVRhcmdldEFsbENvcmUodmFsdWUpLm1hcChtID0+IG1bMV0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFNvdXJjZU1hcEZyb21UYXJnZXQodmFsdWU6IHN0cmluZylcbntcblx0cmV0dXJuIGV4dHJhY3RTb3VyY2VNYXBGcm9tVGFyZ2V0QWxsKHZhbHVlKS5wb3AoKTtcbn1cbiJdfQ==